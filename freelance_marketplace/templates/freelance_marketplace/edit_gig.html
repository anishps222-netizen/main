{% extends 'base.html' %}
{% block title %}Edit Gig{% endblock %}

{% block content %}
<section class="py-5" style="background-color:#909396; min-height:100vh;">
  <div class="container">
    <div class="card shadow-lg border-0 rounded-4 p-4 mx-auto" style="max-width:700px;">
      <h3 class="fw-bold text-success mb-4 text-center">Edit Gig</h3>

      <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="mb-3">
          <label class="form-label">Gig Title</label>
          <input type="text" name="title" value="{{ gig.title }}" class="form-control" required>
        </div>

        <div class="mb-3">
          <label class="form-label">Description</label>
          <textarea name="description" rows="4" class="form-control" required>{{ gig.description }}</textarea>
        </div>

        <div class="mb-3">
          <label class="form-label">Category</label>
          <select name="category" class="form-select">
            {% for category in categories %}
              <option value="{{ category.id }}" {% if gig.category and gig.category.id == category.id %}selected{% endif %}>
                {{ category.name }}
              </option>
            {% endfor %}
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label">Price ($)</label>
          <input type="number" name="price" value="{{ gig.price }}" step="0.01" class="form-control" required>
        </div>

        <div class="mb-3">
          <label class="form-label">Update Image</label>
          <input type="file" name="image" class="form-control">
          {% if gig.image %}
            <img src="{{ gig.image.url }}" alt="{{ gig.title }}" class="img-fluid mt-2 rounded" width="200">
          {% endif %}
        </div>

        <div class="d-flex justify-content-between">
          <a href="{% url 'freelance_marketplace:freelancer_dashboard' %}" class="btn btn-outline-secondary">Cancel</a>
          <button type="submit" class="btn btn-success">Update Gig</button>
        </div>
      </form>
    </div>
  </div>
</section>
{% endblock %}
