{% extends 'base.html' %}
{% block title %}Chat{% endblock %}
{% block content %}
<section class="py-5">
  <div class="container">
    <h2>Chat with {% if user == order.freelancer %}Customer{% else %}Freelancer{% endif %}</h2>
    
    <div id="chat-box" style="border:1px solid #ccc; padding:15px; height:300px; overflow-y:scroll;">
      {% for message in order.messages.all %}
        <p><strong>{{ message.sender.username }}:</strong> {{ message.text }}</p>
      {% empty %}
        <p class="text-muted">No messages yet.</p>
      {% endfor %}
    </div>

    <form method="POST">
      {% csrf_token %}
      <div class="input-group mt-3">
        <input type="text" name="message" class="form-control" placeholder="Type your message..." required>
        <button class="btn btn-primary">Send</button>
      </div>
    </form>
  </div>
</section>
{% endblock %}
